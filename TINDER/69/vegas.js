!function(a){"use strict";var b={slide:0,delay:5e3,preload:!1,preloadImage:!1,preloadVideo:!1,timer:!0,overlay:!1,autoplay:!0,shuffle:!1,cover:!0,color:null,align:"center",valign:"center",transition:"fade",transitionDuration:1e3,transitionRegister:[],animation:null,animationDuration:"auto",animationRegister:[],init:function(){},play:function(){},pause:function(){},walk:function(){},slides:[]},c={},d=function(c,d){this.elmt=c,this.settings=a.extend({},b,a.vegas.defaults,d),this.slide=this.settings.slide,this.total=this.settings.slides.length,this.noshow=this.total<2,this.paused=!this.settings.autoplay||this.noshow,this.$elmt=a(c),this.$timer=null,this.$overlay=null,this.$slide=null,this.timeout=null,this.transitions=["fade","fade2","blur","blur2","flash","flash2","negative","negative2","burn","burn2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsLeft","kenburnsRight","kenburnsUp","kenburnsUpLeft","kenburnsUpRight","kenburnsDown","kenburnsDownLeft","kenburnsDownRight"],this.settings.transitionRegister instanceof Array==!1&&(this.settings.transitionRegister=[this.settings.transitionRegister]),this.settings.animationRegister instanceof Array==!1&&(this.settings.animationRegister=[this.settings.animationRegister]),this.transitions=this.transitions.concat(this.settings.transitionRegister),this.animations=this.animations.concat(this.settings.animationRegister),this.support={objectFit:"objectFit"in document.body.style,transition:"transition"in document.body.style||"WebkitTransition"in document.body.style,video:a.vegas.isVideoCompatible()},this.settings.shuffle===!0&&this.shuffle(),this._init()};d.prototype={_init:function(){var b,c,d,e="BODY"===this.elmt.tagName,f=this.settings.timer,g=this.settings.overlay,h=this;this._preload(),e||(this.$elmt.css("height",this.$elmt.css("height")),b=a('<div class="vegas-wrapper">').css("overflow",this.$elmt.css("overflow")).css("padding",this.$elmt.css("padding")),this.$elmt.css("padding")||b.css("padding-top",this.$elmt.css("padding-top")).css("padding-bottom",this.$elmt.css("padding-bottom")).css("padding-left",this.$elmt.css("padding-left")).css("padding-right",this.$elmt.css("padding-right")),this.$elmt.clone(!0).children().appendTo(b),this.elmt.innerHTML=""),f&&this.support.transition&&(d=a('<div class="vegas-timer"><div class="vegas-timer-progress">'),this.$timer=d,this.$elmt.prepend(d)),g&&(c=a('<div class="vegas-overlay">'),"string"==typeof g&&c.css("background-image","url("+g+")"),this.$overlay=c,this.$elmt.prepend(c)),this.$elmt.addClass("vegas-container"),e||this.$elmt.append(b),setTimeout(function(){h.trigger("init"),h._goto(h.slide),h.settings.autoplay&&h.trigger("play")},1)},_preload:function(){var a,b,c;for(c=0;c<this.settings.slides.length;c++)(this.settings.preload||this.settings.preloadImages)&&this.settings.slides[c].src&&(b=new Image,b.src=this.settings.slides[c].src),(this.settings.preload||this.settings.preloadVideos)&&this.support.video&&this.settings.slides[c].video&&(a=this.settings.slides[c].video instanceof Array?this._video(this.settings.slides[c].video):this._video(this.settings.slides[c].video.src))},_random:function(a){return a[Math.floor(Math.random()*(a.length-1))]},_slideShow:function(){var a=this;this.total>1&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){a.next()},this._options("delay")))},_timer:function(a){var b=this;clearTimeout(this.timeout),this.$timer&&(this.$timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),this.paused||this.noshow||a&&setTimeout(function(){b.$timer.addClass("vegas-timer-running").find("div").css("transition-duration",b._options("delay")-100+"ms")},100))},_video:function(a){var b,d,e=a.toString();return c[e]?c[e]:(a instanceof Array==!1&&(a=[a]),b=document.createElement("video"),b.preload=!0,a.forEach(function(a){d=document.createElement("source"),d.src=a,b.appendChild(d)}),c[e]=b,b)},_fadeOutSound:function(a,b){var c=this,d=b/10,e=a.volume-.09;e>0?(a.volume=e,setTimeout(function(){c._fadeOutSound(a,b)},d)):a.pause()},_fadeInSound:function(a,b){var c=this,d=b/10,e=a.volume+.09;e<1&&(a.volume=e,setTimeout(function(){c._fadeInSound(a,b)},d))},_options:function(a,b){return void 0===b&&(b=this.slide),void 0!==this.settings.slides[b][a]?this.settings.slides[b][a]:this.settings[a]},_goto:function(b){function v(){n._timer(!0),setTimeout(function(){r&&(n.support.transition?(f.css("transition","all "+s+"ms").addClass("vegas-transition-"+r+"-out"),f.each(function(){var a=f.find("video").get(0);a&&(a.volume=1,n._fadeOutSound(a,s))}),c.css("transition","all "+s+"ms").addClass("vegas-transition-"+r+"-in")):c.fadeIn(s));for(var a=0;a<f.length-4;a++)f.eq(a).remove();n.trigger("walk"),n._slideShow()},100)}"undefined"==typeof this.settings.slides[b]&&(b=0),this.slide=b;var c,d,e,p,q,f=this.$elmt.children(".vegas-slide"),g=this.settings.slides[b].src,h=this.settings.slides[b].video,i=this._options("delay"),j=this._options("align"),k=this._options("valign"),l=this._options("color")||this.$elmt.css("background-color"),m=this._options("cover")?"cover":"contain",n=this,o=f.length,r=this._options("transition"),s=this._options("transitionDuration"),t=this._options("animation"),u=this._options("animationDuration");("random"===r||r instanceof Array)&&(r=r instanceof Array?this._random(r):this._random(this.transitions)),("random"===t||t instanceof Array)&&(t=t instanceof Array?this._random(t):this._random(this.animations)),("auto"===s||s>i)&&(s=i),"auto"===u&&(u=i),c=a('<div class="vegas-slide"></div>'),this.support.transition&&r&&c.addClass("vegas-transition-"+r),this.support.video&&h?(p=h instanceof Array?this._video(h):this._video(h.src),p.loop=void 0===h.loop||h.loop,p.muted=void 0===h.mute||h.mute,p.muted===!1?(p.volume=0,this._fadeInSound(p,s)):p.pause(),e=a(p).addClass("vegas-video").css("background-color",l),this.support.objectFit?e.css("object-position",j+" "+k).css("object-fit",m).css("width","100%").css("height","100%"):"contain"===m&&e.css("width","100%").css("height","100%"),c.append(e)):(q=new Image,d=a('<div class="vegas-slide-inner"></div>').css("background-image","url("+g+")").css("background-color",l).css("background-position",j+" "+k).css("background-size",m),this.support.transition&&t&&d.addClass("vegas-animation-"+t).css("animation-duration",u+"ms"),c.append(d)),this.support.transition||c.css("display","none"),o?f.eq(o-1).after(c):this.$elmt.prepend(c),n._timer(!1),p?(4===p.readyState&&(p.currentTime=0),p.play(),v()):(q.src=g,q.onload=v)},shuffle:function(){for(var a,b,c=this.total-1;c>0;c--)b=Math.floor(Math.random()*(c+1)),a=this.settings.slides[c],this.settings.slides[c]=this.settings.slides[b],this.settings.slides[b]=a},play:function(){this.paused&&(this.paused=!1,this.next(),this.trigger("play"))},pause:function(){this._timer(!1),this.paused=!0,this.trigger("pause")},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(a){return a?{slide:this.slide,data:this.settings.slides[this.slide]}:this.slide},jump:function(a){a<0||a>this.total-1||a===this.slide||(this.slide=a,this._goto(this.slide))},next:function(){this.slide++,this.slide>=this.total&&(this.slide=0),this._goto(this.slide)},previous:function(){this.slide--,this.slide<0&&(this.slide=this.total-1),this._goto(this.slide)},trigger:function(a){var b=[];b="init"===a?[this.settings]:[this.slide,this.settings.slides[this.slide]],this.$elmt.trigger("vegas"+a,b),"function"==typeof this.settings[a]&&this.settings[a].apply(this.$elmt,b)},options:function(c,d){var e=this.settings.slides.slice();if("object"==typeof c)this.settings=a.extend({},b,a.vegas.defaults,c);else{if("string"!=typeof c)return this.settings;if(void 0===d)return this.settings[c];this.settings[c]=d}this.settings.slides!==e&&(this.total=this.settings.slides.length,this.noshow=this.total<2,this._preload())},destroy:function(){clearTimeout(this.timeout),this.$elmt.removeClass("vegas-container"),this.$elmt.find("> .vegas-slide").remove(),this.$elmt.find("> .vegas-wrapper").clone(!0).children().appendTo(this.$elmt),this.$elmt.find("> .vegas-wrapper").remove(),this.settings.timer&&this.$timer.remove(),this.settings.overlay&&this.$overlay.remove(),this.elmt._vegas=null}},a.fn.vegas=function(a){var e,b=arguments,c=!1;if(void 0===a||"object"==typeof a)return this.each(function(){this._vegas||(this._vegas=new d(this,a))});if("string"==typeof a){if(this.each(function(){var d=this._vegas;if(!d)throw new Error("No Vegas applied to this element.");"function"==typeof d[a]&&"_"!==a[0]?e=d[a].apply(d,[].slice.call(b,1)):c=!0}),c)throw new Error('No method "'+a+'" in Vegas.');return void 0!==e?e:this}},a.vegas={},a.vegas.defaults=b,a.vegas.isVideoCompatible=function(){return!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)}}(window.jQuery||window.Zepto);